# Card Battle Game

シンプルながら戦略性の高いカードバトルゲームです。5x5のフィールドに味方と敵のカードを配置して戦います。
各カードには固有の効果があり、それらを組み合わせることで高いスコアを狙うことができます。

## デモ
[ゲームをプレイする](https://card-battle-game.vercel.app/)

## 技術スタック

- Next.js 14 (App Router)
- TypeScript
- Tailwind CSS
- Framer Motion（アニメーション）
- shadcn/ui（UIコンポーネント）

## ゲーム概要

### 基本ルール
- 5x5のフィールドに味方（青）と敵（赤）のカードを配置して戦うゲームです
- 各カードには点数が設定されており、味方カードは味方スコアを、敵カードは敵スコアを上昇させます
- すべてのマスにカードを配置し終えた時点で、味方スコアが敵スコアを上回っていればクリアです
- カードには「基礎点」と「効果による追加点」があり、これらの合計がそのカードの最終的な得点となります
- フィールド上のカードの配置によって、カードの効果が変化し、得点が変動します

### スコア計算システム
1. 基礎点計算
   - 各カードに設定された基本点数を加算
   - カードの種類やレアリティによって異なる値が設定されている

2. 効果ボーナス計算
   - カードの効果による追加点数を計算
   - 周囲のカードの配置により変動
   - 複数の効果が重なることで高得点を狙える
   - 効果には以下の種類がある：
     - 基本効果：隣接ボーナスなど
     - 武器効果：特定のクラスを強化
     - リーダー効果：広範囲に及ぶ特殊効果

3. 合計点計算
   - 基礎点と効果ボーナスの合算が最終スコア
   - マイナスになる場合は0点として扱う

### ゲームの進行
1. 1ターン目：基本ユニット
   - 効果のない基本ユニットカード（戦士、弓兵など）を6枚引きます
   - 味方3枚、敵3枚のカードが与えられます
   - このターンは純粋な点数勝負となり、基礎固めのターンです

2. 2ターン目：効果ユニット
   - 効果付きユニットカード（騎士、槍兵など）を4枚引きます
   - 味方2枚、敵2枚のカードが与えられます
   - 各カードには周囲のユニットに影響を与える特殊効果があります
   - 1ターン目に配置したカードとの相性を考えて配置することが重要です

3. 3ターン目：フィールドカード
   - フィールドカード（要塞、魔法陣など）を2枚引きます
   - 味方1枚、敵1枚のカードが与えられます
   - 広範囲に効果を及ぼすカードで、戦局を大きく変えることができます
   - 既存のユニットの配置を活かせる場所に配置することが重要です

4. 4ターン目：武器カード
   - 武器カード（聖なる剣、精霊の弓など）を2枚引きます
   - 味方1枚、敵1枚のカードが与えられます
   - 特定のクラスのユニットに対してのみ効果を発揮する特殊なカードです
   - 効果対象となるクラスのユニットの近くに配置することが重要です
   - 武器職人の効果で武器カードの効果を2倍にすることが可能です

5. 5ターン目：支援カード
   - 支援カード（竜騎士隊長、魔導師長など）を4枚引きます
   - 味方2枚、敵2枚のカードが与えられます
   - 複数のクラスに影響を与えたり、武器を強化したりする強力な効果を持ちます
   - ゲームの最終的な勝敗を決める重要なターンです

6. 6ターン目：リーダーカード
   - リーダーカード（戦術の大師、冥府の大魔導師など）を4枚引きます
   - 味方2枚、敵2枚のカードが与えられます
   - 最も強力な効果を持つカードで、戦況を一変させる可能性があります
   - 効果の範囲が広く、適切な位置に配置することでゲームを決定付けることができます

### ユニットのクラスとその特徴

#### 戦士（Warrior）
- 基本的な近接戦闘ユニット
- 比較的高い基礎点を持つ（90-130点）
- 武器による強化を受けやすい
- 主に前線での戦闘を担当
- 聖なる剣や混沌の剣などの強化を受けると特に強力

#### 弓兵（Archer）
- 遠距離攻撃が得意なユニット
- 中程度の基礎点（80-100点）
- 斜め方向の効果を持つカードとの相性が良い
- 後方支援型のユニット
- 精霊の弓や死霊の弓による強化で高火力に

#### 魔法使い（Mage）
- 魔法攻撃を行うユニット
- 効果を活かすことで高得点が狙える
- 魔法陣などのフィールドカードとの相性が良い
- 特殊な効果を持つカードが多い
- 賢者の杖との組み合わせが強力

#### 騎士（Knight）
- 重装甲の騎乗ユニット
- 高い基礎点と強力な効果を持つ
- 他のユニットを支援する効果を持つことが多い
- チームの中核となるユニット
- リーダーカードとの相性が特に良い

#### 槍兵（Lancer）
- 長槍を使用する特殊ユニット
- 敵の配置に応じて効果を発揮
- 横方向の効果を持つカードとの相性が良い
- 状況に応じた柔軟な運用が可能
- 精霊の槍による強化で高い攻撃力に

#### 盾兵（Guardian）
- 防御特化型ユニット
- 隣接効果による強化を得意とする
- 他のユニットの防御を支援
- フィールドカードとの相性が良い
- 聖騎士の大盾との組み合わせで堅固な防衛線を形成

### カードの効果システム

#### 基本効果（BaseEffect）
1. 自己強化系
   - `SELF_POWER_UP_BY_ENEMY_LINE`: 横に敵ユニットが2体並んでいる場合、自身の攻撃力上昇
   - `SELF_POWER_UP_BY_ADJACENT_ALLY`: 隣接する味方ユニット1体につき攻撃力上昇

2. 隣接効果
   - `ADJACENT_UNIT_BUFF`: 隣接する味方ユニットの攻撃力を上昇
   - `ADJACENT_UNIT_DEBUFF`: 隣接する全てのユニットの攻撃力を減少

3. フィールド効果
   - `FIELD_UNIT_BUFF`: 周囲の味方ユニットの攻撃力を上昇（範囲指定可能）
   - `FIELD_UNIT_DEBUFF`: 周囲のユニットの攻撃力を減少（範囲指定可能）

4. 列効果
   - `ROW_COLUMN_BUFF`: 縦または横一列の味方ユニットの攻撃力を上昇

5. クラス効果
   - `FIELD_CLASS_POWER_UP`: 特定のクラスのユニットの攻撃力を上昇
   - 複数のクラスに異なる効果を与えることが可能

6. 武器強化
   - `WEAPON_ENHANCEMENT`: 周囲の武器カードの効果を2倍に強化
   - 武器カードの基礎点は変化せず、効果のみが倍増

#### 武器効果（WeaponEffect）
1. 方向性効果
   - `VERTICAL_BOOST`: 上下の特定クラスのユニットを強化
   - `HORIZONTAL_BOOST`: 左右の特定クラスのユニットを強化
   - `DIAGONAL_BOOST`: 斜めの特定クラスのユニットを強化

2. 形状効果
   - `CROSS_FORMATION`: 十字の位置にいる特定クラスのユニットを強化
   - `SURROUND_BOOST`: 3体以上の特定クラスのユニットに囲まれている場合に効果発動

3. 効果の重ね掛け
   - 複数の武器効果は累積して適用
   - 武器職人の効果で各武器カードの効果を2倍に
   - サポートカードとの組み合わせで更なる強化が可能

#### リーダー効果（LeaderEffect）
1. 戦術強化
   - `LEADER_TACTICAL`: 範囲内の特定クラスを強化＋サポート効果倍増
   - 2マス以内の指定クラスに大幅な攻撃力上昇
   - サポートカードの効果を1.5倍に増幅

2. カテゴリー強化
   - `LEADER_ENHANCEMENT`: 武器/フィールド/サポートカードの効果を強化
   - 各カテゴリーのカードに固定値のボーナスを付与

3. 隣接ボーナス
   - `LEADER_PROTECTION`: 隣接する味方/敵の数に応じて効果発動
   - 味方を強化または敵にペナルティを与える

4. 全体デバフ
   - `LEADER_DEBUFF`: 隣接する全ユニットの攻撃力を低下
   - 敵味方問わず効果を及ぼす強力な妨害効果

### 詳細なカードリスト

#### 基本ユニット（1ターン目）
##### 味方ユニット
- 民兵 (90点) 🗡️
  - 基本的な戦士ユニット
  - 効果なし
  - 序盤の布陣の基礎となる
  
- 剣士 (120点) 🗡️
  - 攻撃力の高い戦士ユニット
  - 効果なし
  - 高い基礎点を活かした運用が可能

- 弓兵 (80点) 🏹
  - 遠距離攻撃が得意な兵士
  - 効果なし
  - 後方配置での運用が基本

##### 敵ユニット
- ゴブリン (110点) 🗡️
  - 基本的な敵戦士ユニット
  - 効果なし
  
- オーク (130点) 🗡️
  - 攻撃力の高い敵戦士ユニット
  - 効果なし
  
- コボルド (100点) 🗡️
  - 標準的な敵戦士ユニット
  - 効果なし

#### 効果ユニット（2ターン目）
##### 味方ユニット
- 騎士 (130点) 🎠
  - 効果：隣接する味方ユニットの攻撃力+30
  - 支援型ユニット
  - 複数の味方に囲まれるように配置すると効果的

- 槍兵 (100点) 🔱
  - 効果：横に敵ユニットが2体並んでいる場合、攻撃力+60
  - カウンター型ユニット
  - 敵の並びを読んで配置することが重要

- 重装盾兵 (90点) 🛡️
  - 効果：隣接する味方ユニット1体につき攻撃力+20
  - 防衛型ユニット
  - 味方が多いエリアでの運用が効果的

##### 敵ユニット
- トロル (160点) 🗡️
  - 効果：隣接する全てのユニットの攻撃力-20
  - 妨害型ユニット
  - 広範囲に影響を与える厄介な存在

- ダークエルフ (120点) 🏹
  - 効果：隣接する敵ユニットの攻撃力+30
  - 支援型ユニット
  - 敵ユニットの強化役

#### フィールドカード（3ターン目）
##### 味方カード
- 要塞 (60点) 🏰
  - 効果：周囲1マスの味方ユニットの攻撃力+50
  - 防衛拠点として使用
  - 既存の味方ユニットの近くに配置が有効

- 魔法陣 (80点) 🏰
  - 効果：周囲2マスの味方ユニットの攻撃力+30
  - 広範囲支援型
  - 中央付近に配置すると効果が高い

##### 敵カード
- 魔界門 (160点) 🏰
  - 効果：周囲1マスの敵ユニットの攻撃力+50
  - 強力な拠点カード
  - 高得点と強力な効果を持つ脅威

- 死霊の祭壇 (110点) 🏰
  - 効果：周囲2マスの敵ユニットの攻撃力+30
  - 広範囲支援型
  - 敵の布陣を強化する厄介な存在

#### 武器カード（4ターン目）
##### 味方カード
- 聖なる剣 (40点) ⚔️
  - 効果：上下の戦士の攻撃力+60
  - 縦方向特化型
  - 武器職人と組み合わせると効果が2倍に

- 精霊の弓 (30点) ⚔️
  - 効果：斜めの弓兵の攻撃力+50
  - 斜め方向特化型
  - 弓兵との相性抜群

- 賢者の杖 (35点) ⚔️
  - 効果：十字の魔法使いの攻撃力+55
  - 十字方向特化型
  - 魔法使いの強化に特化

- 精霊の槍 (30点) ⚔️
  - 効果：左右の槍兵の攻撃力+50
  - 横方向特化型
  - 槍兵との組み合わせが効果的

- 聖騎士の大盾 (40点) ⚔️
  - 効果：十字の盾兵の攻撃力+40
  - 防御特化型
  - 盾兵の能力を更に高める

##### 敵カード
- 混沌の剣 (50点) ⚔️
  - 効果：上下の戦士の攻撃力+65
  - 強力な縦方向効果
  - より高い攻撃力上昇を持つ

- 死霊の弓 (40点) ⚔️
  - 効果：斜めの弓兵の攻撃力+55
  - 強力な斜め方向効果
  - 弓兵の強化に特化

- 魔族の鋼鉄盾 (60点) ⚔️
  - 効果：十字の盾兵の攻撃力+50
  - 強力な防御強化
  - 盾兵の能力を大幅に向上

#### 支援カード（5ターン目）
##### 味方カード
- 武器職人 (40点) 📜
  - 効果：周囲1マス以内の味方武器カードの効果を2倍にする
  - 武器強化型
  - 武器カードの近くに置くことが重要

- 勝利の旗印 (20点) 📜
  - 効果：縦一列の味方ユニットの攻撃力+30
  - 陣形支援型
  - 戦術の大師の効果で1.5倍に

- 英雄の詩 (30点) 📜
  - 効果：横一列の味方ユニットの攻撃力+20
  - 陣形支援型
  - 戦術の大師の効果で1.5倍に

##### 敵カード
- 闇の武器匠 (110点) 📜
  - 効果：周囲1マスの敵武器カードの効果を2倍にする
  - 武器強化型
  - 武器カードとの連携が脅威

- 破滅の戦旗 (80点) 📜
  - 効果：縦一列の敵ユニットの攻撃力+40
  - 強力な陣形支援型
  - 高い攻撃力上昇を持つ

#### リーダーカード（6ターン目）
##### 味方リーダー
- 戦術の大師 (150点) 🎠
  - 効果：周囲2マス以内の騎士+50、盾兵+50
  - 追加効果：サポートカードの効果を1.5倍
  - 支援カードと組み合わせることで高い相乗効果を発揮
  - サポートの倍率は効果そのものを増幅（基礎点には影響しない）

- 軍団長 (180点) 🗡️
  - 効果なし
  - 純粋な高得点カード
  - 戦略的な配置で得点源として活用

- 神聖なる導き手 (130点) 🔮
  - 効果：味方の武器+60、フィールド+60、サポート+60
  - カテゴリー別の強化が特徴
  - 様々な種類のカードを強化できる万能型

- 守護の統率者 (160点) 🛡️
  - 効果：隣接する味方1体につき+50、隣接する敵-70
  - 味方を囲むように配置すると効果的
  - 敵ユニットへの妨害も可能な二刀流型

##### 敵リーダー
- 闇の指揮官 (180点) 🎠
  - 効果：周囲2マス以内の戦士+80
  - 戦士特化型の強力な支援
  - 戦士ユニットの多い場所に注意

- 狂戦士団長 (170点) 🗡️
  - 効果：隣接するユニット-50
  - 強力な妨害効果
  - 味方ユニットの近くを避けて配置する必要あり

- 冥府の大魔導師 (160点) 🔮
  - 効果：敵の武器+60、フィールド+60、サポート+60
  - カテゴリー別強化の敵版
  - 様々なカードを一度に強化できる脅威

- 不滅の守護者 (190点) 🛡️
  - 効果：隣接する敵1体につき+90
  - 敵ユニットの数で強化される特殊効果
  - 味方ユニットを近づけないように注意

### 戦略ガイド

#### 基本戦術
1. 序盤（1-2ターン）
   - 高得点の基本ユニットを中央に配置
   - 効果ユニットの配置場所を考慮した布陣
   - 敵の強力なユニットへの対策を準備

2. 中盤（3-4ターン）
   - フィールドカードは広範囲に効果が及ぶよう配置
   - 武器カードは対象クラスの近くに設置
   - 武器職人との連携を意識した配置

3. 終盤（5-6ターン）
   - 支援カードで既存の効果を増幅
   - リーダーカードで大きな点数差を作る
   - 敵の強力な効果を見越した対策

#### 高度な戦術
1. クラスの相性活用
   - 同じクラスのユニットをまとめて配置
   - 適切な武器カードでの強化
   - リーダーカードの効果範囲を最大限活用

2. 効果の連鎖
   - 武器職人による武器効果の倍増
   - 戦術の大師によるサポート効果の増幅
   - 複数の効果範囲の重ね合わせ

3. 防御戦術
   - 敵の効果範囲を避けた配置
   - 守護者系カードでの防衛線形成
   - デバフ効果の影響を最小限に

### 今後の開発予定

#### 機能拡張予定
1. ゲームモードの追加
   - AIプレイヤーの実装
   - ランキングシステム
   - チュートリアルモード

2. 新規コンテンツ
   - 新カードの追加
   - 新しい効果タイプの実装
   - 特殊ルールの追加

3. UI/UX の改善
   - モバイル対応の強化
   - アニメーション効果の追加
   - 効果音とBGMの実装

### コントリビューション

プロジェクトへの貢献を歓迎します。以下の手順で参加いただけます：

1. Issue作成
   - バグ報告
   - 機能提案
   - 改善提案

2. Pull Request
   - フォークしてブランチを作成
   - 変更を実装
   - テストを追加
   - PRを作成

3. コーディング規約
   - TypeScriptの型を適切に使用
   - ESLintのルールに従う
   - Prettierでフォーマットを統一
   - コメントを適切に追加

### ライセンス

MIT License

Copyright (c) 2024 Your Name

このプロジェクトは MIT ライセンスの下で公開されています。詳細は LICENSE ファイルをご覧ください。